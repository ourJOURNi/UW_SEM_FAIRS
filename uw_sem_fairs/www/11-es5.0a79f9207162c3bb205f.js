!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"0GEM":function(t,r,o){"use strict";o.d(r,"a",(function(){return f}));var i=o("mrSG"),a=o("AytR"),s=o("z6cu"),c=o("fXoL"),u=o("tk/3"),p=o("tyNb"),l=o("TEn/"),f=function(){var t=function(){function t(n,r,o,i){e(this,t),this.http=n,this.router=r,this.loading=o,this.alert=i,this.allFairs=[],this.BACKEND_URL=a.a.url}return n(t,[{key:"getFairs",value:function(){return console.log("Getting Fairs"),this.http.get(this.BACKEND_URL+"/api/fairs")}},{key:"getFair",value:function(e){return console.log(e),console.log("id from fairs service"),this.http.post(this.BACKEND_URL+"/api/fairs/fair",{id:e})}},{key:"registerStudent",value:function(e){return this.http.post(this.BACKEND_URL+"/api/fairs/register-student",e)}},{key:"registerChaperone",value:function(e){return this.http.post(this.BACKEND_URL+"/api/fairs/register-chaperone",e)}},{key:"registerPartner",value:function(e){return this.http.post(this.BACKEND_URL+"/api/fairs/register-partner",e)}},{key:"registerVolunteer",value:function(e){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.http.post(this.BACKEND_URL+"/api/fairs/register-volunteer",e).subscribe((function(t){return Object(i.a)(n,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,console.log("registering volunteer to fair");case 2:return n.next=4,console.log(t);case 4:return n.next=6,this.presentLoadingWithOptions(e.name,e.email);case 6:return n.next=8,this.router.navigate([""]);case 8:return n.next=10,console.log("REGISTERED VOLUNTEER TO FAIR!");case 10:case"end":return n.stop()}}),n,this)})))})));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"handleError",value:function(e){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","A Student already has that email address"===e.error?(console.log("A Student already has that email address"),this.emailAlreadyExistAlert()):Object(s.a)(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"emailAlreadyExistAlert",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alert.create({header:"Email already in use.",message:"This email already exists. Please enter another email address",buttons:["Ok"]});case 2:return t=e.sent,e.next=5,t.present();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"presentLoadingWithOptions",value:function(e,t){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.loading.create({duration:3e3,message:"Registering you as a Chaperone ".concat(e,". Sending an email to ").concat(t),translucent:!0,cssClass:"loading",backdropDismiss:!0});case 2:return r=n.sent,n.next=5,r.present();case 5:return n.next=7,r.onDidDismiss();case 7:o=n.sent,i=o.role,console.log("Loading dismissed with role:",i);case 10:case"end":return n.stop()}}),n,this)})))}},{key:"presentAlert",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alert.create({header:"Alert",cssClass:"registered",message:"This is an alert message.",buttons:["OK"]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"getSchools",value:function(){return console.log("Getting schools"),this.http.get(this.BACKEND_URL+"/api/admin/fairs/get-schools")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Qb(u.a),c.Qb(p.g),c.Qb(l.I),c.Qb(l.a))},t.\u0275prov=c.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"1GRv":function(t,r,o){"use strict";o.r(r),o.d(r,"SelectionPageModule",(function(){return y}));var i=o("ofXK"),a=o("3Pt+"),s=o("TEn/"),c=o("tyNb"),u=o("fXoL"),p=o("0GEM");function l(e,t){if(1&e&&(u.Mb(0,"ion-select-option",15),u.kc(1),u.Lb()),2&e){var n=t.$implicit;u.ac("value",n.title),u.xb(1),u.lc(n.title)}}function f(e,t){if(1&e){var n=u.Nb();u.Mb(0,"ion-grid"),u.Ib(1,"div",1),u.Mb(2,"ion-row",2),u.Mb(3,"ion-col",3),u.Mb(4,"h3"),u.kc(5,"Register for Fair"),u.Lb(),u.Mb(6,"p",4),u.kc(7,"Whether you are a Student, Chaperone, Volunteer, or Booth Partner, register for a United Way Southeast Michigan Fair Today!"),u.Lb(),u.Mb(8,"ion-list",5),u.Mb(9,"ion-item"),u.Mb(10,"ion-select",6),u.Ub("ionChange",(function(e){return u.fc(n),u.Wb().setFair(e)})),u.jc(11,l,2,2,"ion-select-option",7),u.Lb(),u.Lb(),u.Lb(),u.Mb(12,"div",8),u.Mb(13,"ion-list",5),u.Mb(14,"ion-item"),u.Mb(15,"ion-select",9),u.Ub("ionChange",(function(e){return u.fc(n),u.Wb().setUsertype(e)})),u.Mb(16,"ion-select-option",10),u.kc(17,"Student"),u.Lb(),u.Mb(18,"ion-select-option",11),u.kc(19,"Volunteer"),u.Lb(),u.Mb(20,"ion-select-option",12),u.kc(21,"Chaperone"),u.Lb(),u.Mb(22,"ion-select-option",13),u.kc(23,"Partner"),u.Lb(),u.Lb(),u.Lb(),u.Lb(),u.Lb(),u.Mb(24,"div",8),u.Mb(25,"ion-button",14),u.Ub("click",(function(){return u.fc(n),u.Wb().fairPage()})),u.kc(26," Next "),u.Lb(),u.Lb(),u.Lb(),u.Lb(),u.Lb()}if(2&e){var r=u.Wb();u.xb(11),u.Zb("ngForOf",r.allFairs),u.xb(1),u.Zb("className",r.selectedFair?"on":"off"),u.xb(12),u.Zb("className",r.selectedUsertype?"on":"off"),u.xb(1),u.Zb("disabled",!r.fair&&!r.usertype)}}var d,g,b,h=[{path:"",component:(d=function(){function t(n,r){e(this,t),this.router=n,this.fairs=r,this.selectedFair=!1,this.selectedUsertype=!1,this.pageLoaded=!1}return n(t,[{key:"ngOnDestroy",value:function(){this.fairsInfoSubscription.unsubscribe()}},{key:"ngOnInit",value:function(){var e=this;setTimeout((function(){e.pageLoaded=!0}),1500),this.fairsInfoSubscription=this.fairs.getFairs().subscribe((function(t){e.allFairs=Object.values(t),console.log(typeof t),console.log(e.allFairs)}))}},{key:"setFair",value:function(e){this.fair=e.detail.value,this.selectedFair=!0,console.log("setting the fair to "+this.fair)}},{key:"setUsertype",value:function(e){var t=this;console.log(e),this.usertype=e.detail.value,this.selectedUsertype=!0,console.log("setting the usertype to "+this.usertype),this.allFairs.find((function(e){switch(t.id=e._id,t.date=e.date,t.fair=e.title,t.summary=e.summary,t.address=e.address,t.city=e.city,t.state=e.state,t.zip=e.zip,t.usertype){case"student":t.agenda=JSON.stringify(e.studentAgenda),t.faq=JSON.stringify(e.studentFAQ),t.partners=JSON.stringify(e.partners),console.log("Student");break;case"chaperone":t.agenda=JSON.stringify(e.chaperoneAgenda),t.faq=JSON.stringify(e.chaperoneFAQ),t.partners=JSON.stringify(e.partners),console.log("Chaperone");break;case"volunteer":t.agenda=JSON.stringify(e.volunteerAgenda),t.faq=JSON.stringify(e.volunteerFAQ),t.partners=JSON.stringify(e.partners),console.log("Volunteers");break;case"partner":t.agenda=JSON.stringify(e.partnerAgenda),t.faq=JSON.stringify(e.partnerFAQ),t.partners=JSON.stringify(e.partners),console.log("Partner")}}))}},{key:"fairPage",value:function(){console.log("going to the fair page"),this.router.navigate(["/selection/fair-page",this.id,this.usertype])}}]),t}(),d.\u0275fac=function(e){return new(e||d)(u.Hb(c.g),u.Hb(p.a))},d.\u0275cmp=u.Bb({type:d,selectors:[["app-selection"]],decls:3,vars:1,consts:[[4,"ngIf"],[1,"background"],[1,"ion-justify-content-center"],["size-xs","11","size-sm","11","size-md","8","size-lg","6",1,"form-wrapper"],[1,"desciption"],[1,"line-input"],["placeholder","Select fair",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"className"],["placeholder","Select user type",3,"ionChange"],["value","student"],["value","volunteer"],["value","chaperone"],["value","partner"],[1,"orange-button",3,"disabled","click"],[3,"value"]],template:function(e,t){1&e&&(u.Ib(0,"ion-header"),u.Mb(1,"ion-content"),u.jc(2,f,27,4,"ion-grid",0),u.Lb()),2&e&&(u.xb(2),u.Zb("ngIf",t.pageLoaded))},directives:[s.m,s.k,i.j,s.l,s.w,s.j,s.r,s.p,s.x,s.O,i.i,s.y,s.g],styles:["ion-row[_ngcontent-%COMP%]{margin-bottom:20px}.background[_ngcontent-%COMP%]{height:600px;width:1000px;margin:0 auto;border-radius:0 0 115px 115px;border-bottom:14px solid #faa71b;background-image:linear-gradient(0deg,rgba(0,85,165,.5) 75%,rgba(250,167,27,.2060679272)),url(fairs-selection-page-image.18fcc4b5f43feab7063f.jpg);background-size:auto 900px;background-repeat:none;background-attachment:fixed}ion-item[_ngcontent-%COMP%]{--background:#fff;color:#0055a5;border:2px solid #0055a5;height:50px}.form-wrapper[_ngcontent-%COMP%]{background:#fff;padding:1em 2em;box-shadow:1px 1px 30px rgba(34,34,34,.26666666666666666);border-radius:10px;position:absolute;bottom:0;height:auto;opacity:0;-webkit-animation:form-slide 1s cubic-bezier(.19,1,.22,1) 1s forwards;animation:form-slide 1s cubic-bezier(.19,1,.22,1) 1s forwards}.form-wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;font-size:2em;background:#0055a5;width:300px;padding:.2em;border-radius:5px}.form-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#222;font-size:1em;font-weight:600;background:hsla(0,0%,100%,.4117647058823529);padding:.6em}@media screen and (max-width:760px){.background[_ngcontent-%COMP%]{height:300px;background-image:linear-gradient(0deg,rgba(0,85,165,.5) 10%,rgba(250,167,27,.2060679272)),url(fairs-selection-page-image-small.232be9c58499a2473f06.png);background-repeat:none;background-size:auto 400px;background-attachment:fixed;border-radius:0 0 115px 0;border-bottom:14px solid #faa71b}.form-wrapper[_ngcontent-%COMP%]{background:#fff;padding:1em 2em;box-shadow:1px 1px 30px rgba(34,34,34,.26666666666666666);border-radius:10px;position:absolute;bottom:0;height:300px;opacity:0;-webkit-animation:form-slide 1s cubic-bezier(.19,1,.22,1) 1s forwards;animation:form-slide 1s cubic-bezier(.19,1,.22,1) 1s forwards}.form-wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;font-size:1.2em;background:#0055a5;width:200px;padding:.2em;border-radius:5px}.form-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#222;font-size:.8em;font-weight:600;background:hsla(0,0%,100%,.4117647058823529)}.form-wrapper[_ngcontent-%COMP%]   .desciption[_ngcontent-%COMP%]{border-bottom:none;line-height:auto}.form-wrapper[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{height:30px;margin:0}.form-wrapper[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{position:relative;top:-7px}}@-webkit-keyframes form-slide{0%{opacity:0;transform:translateY(300px)}to{opacity:1;transform:translateY(0)}}@keyframes form-slide{0%{opacity:0;transform:translateY(300px)}to{opacity:1;transform:translateY(0)}}ion-select[_ngcontent-%COMP%]::part(icon){color:#0055a5;font-size:2em;opacity:1;position:relative;left:0}.select-icon-inner[_ngcontent-%COMP%]{left:-5px;margin-top:-6px;border-top:14px solid;border-right:10px solid transparent;border-left:10px solid transparent}ion-select[_ngcontent-%COMP%]{width:100%;background:none;color:#0055a5;opacity:1;--placeholder-opacity:1!important;--icon-opaacity:1!important}h1[_ngcontent-%COMP%]{color:#0055a5;font-size:2em;z-index:999;margin-top:40px}h2[_ngcontent-%COMP%]{font-weight:600;font-size:1.45em;line-height:1.85em;background:#faa71b;color:#fff;padding:5px 0 5px 20px;margin-bottom:24px;border-radius:5px}ion-select-option[_ngcontent-%COMP%]{background:#fff}.desciption[_ngcontent-%COMP%]{font-size:1em;line-height:1.6em;padding-bottom:30px;color:#333}.off[_ngcontent-%COMP%], .on[_ngcontent-%COMP%]{opacity:0}.on[_ngcontent-%COMP%]{-webkit-animation:slide-up .2s ease .5s forwards;animation:slide-up .2s ease .5s forwards}.orange-button[_ngcontent-%COMP%]{height:40px;width:100%;font-size:1em;font-weight:600;--background:#faa71b;--color:#fff;--border-radius:12px;--box-shadow:none}li[_ngcontent-%COMP%]{font-size:1.7em;margin:10px 0;color:#0055a5}@-webkit-keyframes slide-up{0%{transform:translateY(100px)}to{opacity:1;transform:translateY(-10px)}}@keyframes slide-up{0%{transform:translateY(100px)}to{opacity:1;transform:translateY(-10px)}}"]}),d)},{path:"fair-page/:id/:usertype",loadChildren:function(){return o.e(10).then(o.bind(null,"Nfco")).then((function(e){return e.FairPagePageModule}))}}],m=((b=function t(){e(this,t)}).\u0275mod=u.Fb({type:b}),b.\u0275inj=u.Eb({factory:function(e){return new(e||b)},imports:[[c.j.forChild(h)],c.j]}),b),y=((g=function t(){e(this,t)}).\u0275mod=u.Fb({type:g}),g.\u0275inj=u.Eb({factory:function(e){return new(e||g)},imports:[[i.b,a.d,a.k,s.G,m]]}),g)},z6cu:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("HDdC");function o(e,t){return new r.a(t?function(n){return t.schedule(i,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}function i(e){var t=e.error;e.subscriber.error(t)}}}])}();