(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"0GEM":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("mrSG"),r=n("AytR"),o=n("z6cu"),a=n("fXoL"),s=n("tk/3"),c=n("tyNb"),l=n("TEn/");let d=(()=>{class e{constructor(e,t,n,i){this.http=e,this.router=t,this.loading=n,this.alert=i,this.allFairs=[],this.BACKEND_URL=r.a.url}getFairs(){return console.log("Getting Fairs"),this.http.get(this.BACKEND_URL+"/api/fairs")}getFair(e){return console.log(e),console.log("id from fairs service"),this.http.post(this.BACKEND_URL+"/api/fairs/fair",{id:e})}registerStudent(e){return this.http.post(this.BACKEND_URL+"/api/fairs/register-student",e)}registerChaperone(e){return this.http.post(this.BACKEND_URL+"/api/fairs/register-chaperone",e)}registerPartner(e){return this.http.post(this.BACKEND_URL+"/api/fairs/register-partner",e)}registerVolunteer(e){return Object(i.a)(this,void 0,void 0,(function*(){return this.http.post(this.BACKEND_URL+"/api/fairs/register-volunteer",e).subscribe(t=>Object(i.a)(this,void 0,void 0,(function*(){yield console.log("registering volunteer to fair"),yield console.log(t),yield this.presentLoadingWithOptions(e.name,e.email),yield this.router.navigate([""]),yield console.log("REGISTERED VOLUNTEER TO FAIR!")})))}))}handleError(e){return Object(i.a)(this,void 0,void 0,(function*(){return"A Student already has that email address"===e.error?(console.log("A Student already has that email address"),this.emailAlreadyExistAlert()):Object(o.a)(e)}))}emailAlreadyExistAlert(){return Object(i.a)(this,void 0,void 0,(function*(){const e=yield this.alert.create({header:"Email already in use.",message:"This email already exists. Please enter another email address",buttons:["Ok"]});return yield e.present()}))}presentLoadingWithOptions(e,t){return Object(i.a)(this,void 0,void 0,(function*(){const n=yield this.loading.create({duration:3e3,message:`Registering you as a Chaperone ${e}. Sending an email to ${t}`,translucent:!0,cssClass:"loading",backdropDismiss:!0});yield n.present();const{role:i}=yield n.onDidDismiss();console.log("Loading dismissed with role:",i)}))}presentAlert(){return Object(i.a)(this,void 0,void 0,(function*(){const e=yield this.alert.create({header:"Alert",cssClass:"registered",message:"This is an alert message.",buttons:["OK"]});yield e.present()}))}getSchools(){return console.log("Getting schools"),this.http.get(this.BACKEND_URL+"/api/admin/fairs/get-schools")}}return e.\u0275fac=function(t){return new(t||e)(a.Qb(s.a),a.Qb(c.g),a.Qb(l.I),a.Qb(l.a))},e.\u0275prov=a.Db({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"1GRv":function(e,t,n){"use strict";n.r(t),n.d(t,"SelectionPageModule",(function(){return f}));var i=n("ofXK"),r=n("3Pt+"),o=n("TEn/"),a=n("tyNb"),s=n("fXoL"),c=n("0GEM");function l(e,t){if(1&e&&(s.Mb(0,"ion-select-option",15),s.kc(1),s.Lb()),2&e){const e=t.$implicit;s.ac("value",e.title),s.xb(1),s.lc(e.title)}}function d(e,t){if(1&e){const e=s.Nb();s.Mb(0,"ion-grid"),s.Ib(1,"div",1),s.Mb(2,"ion-row",2),s.Mb(3,"ion-col",3),s.Mb(4,"h3"),s.kc(5,"Register for Fair"),s.Lb(),s.Mb(6,"p",4),s.kc(7,"Whether you are a Student, Chaperone, Volunteer, or Booth Partner, register for a United Way Southeast Michigan Fair Today!"),s.Lb(),s.Mb(8,"ion-list",5),s.Mb(9,"ion-item"),s.Mb(10,"ion-select",6),s.Ub("ionChange",(function(t){return s.fc(e),s.Wb().setFair(t)})),s.jc(11,l,2,2,"ion-select-option",7),s.Lb(),s.Lb(),s.Lb(),s.Mb(12,"div",8),s.Mb(13,"ion-list",5),s.Mb(14,"ion-item"),s.Mb(15,"ion-select",9),s.Ub("ionChange",(function(t){return s.fc(e),s.Wb().setUsertype(t)})),s.Mb(16,"ion-select-option",10),s.kc(17,"Student"),s.Lb(),s.Mb(18,"ion-select-option",11),s.kc(19,"Volunteer"),s.Lb(),s.Mb(20,"ion-select-option",12),s.kc(21,"Chaperone"),s.Lb(),s.Mb(22,"ion-select-option",13),s.kc(23,"Partner"),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Mb(24,"div",8),s.Mb(25,"ion-button",14),s.Ub("click",(function(){return s.fc(e),s.Wb().fairPage()})),s.kc(26," Next "),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb()}if(2&e){const e=s.Wb();s.xb(11),s.Zb("ngForOf",e.allFairs),s.xb(1),s.Zb("className",e.selectedFair?"on":"off"),s.xb(12),s.Zb("className",e.selectedUsertype?"on":"off"),s.xb(1),s.Zb("disabled",!e.fair&&!e.usertype)}}const p=[{path:"",component:(()=>{class e{constructor(e,t){this.router=e,this.fairs=t,this.selectedFair=!1,this.selectedUsertype=!1,this.pageLoaded=!1}ngOnDestroy(){this.fairsInfoSubscription.unsubscribe()}ngOnInit(){setTimeout(()=>{this.pageLoaded=!0},1500),this.fairsInfoSubscription=this.fairs.getFairs().subscribe(e=>{this.allFairs=Object.values(e),console.log(typeof e),console.log(this.allFairs)})}setFair(e){this.fair=e.detail.value,this.selectedFair=!0,console.log("setting the fair to "+this.fair)}setUsertype(e){console.log(e),this.usertype=e.detail.value,this.selectedUsertype=!0,console.log("setting the usertype to "+this.usertype),this.allFairs.find(e=>{switch(this.id=e._id,this.date=e.date,this.fair=e.title,this.summary=e.summary,this.address=e.address,this.city=e.city,this.state=e.state,this.zip=e.zip,this.usertype){case"student":this.agenda=JSON.stringify(e.studentAgenda),this.faq=JSON.stringify(e.studentFAQ),this.partners=JSON.stringify(e.partners),console.log("Student");break;case"chaperone":this.agenda=JSON.stringify(e.chaperoneAgenda),this.faq=JSON.stringify(e.chaperoneFAQ),this.partners=JSON.stringify(e.partners),console.log("Chaperone");break;case"volunteer":this.agenda=JSON.stringify(e.volunteerAgenda),this.faq=JSON.stringify(e.volunteerFAQ),this.partners=JSON.stringify(e.partners),console.log("Volunteers");break;case"partner":this.agenda=JSON.stringify(e.partnerAgenda),this.faq=JSON.stringify(e.partnerFAQ),this.partners=JSON.stringify(e.partners),console.log("Partner")}})}fairPage(){console.log("going to the fair page"),this.router.navigate(["/selection/fair-page",this.id,this.usertype])}}return e.\u0275fac=function(t){return new(t||e)(s.Hb(a.g),s.Hb(c.a))},e.\u0275cmp=s.Bb({type:e,selectors:[["app-selection"]],decls:3,vars:1,consts:[[4,"ngIf"],[1,"background"],[1,"ion-justify-content-center"],["size-xs","11","size-sm","11","size-md","8","size-lg","6",1,"form-wrapper"],[1,"desciption"],[1,"line-input"],["placeholder","Select fair",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"className"],["placeholder","Select user type",3,"ionChange"],["value","student"],["value","volunteer"],["value","chaperone"],["value","partner"],[1,"orange-button",3,"disabled","click"],[3,"value"]],template:function(e,t){1&e&&(s.Ib(0,"ion-header"),s.Mb(1,"ion-content"),s.jc(2,d,27,4,"ion-grid",0),s.Lb()),2&e&&(s.xb(2),s.Zb("ngIf",t.pageLoaded))},directives:[o.m,o.k,i.j,o.l,o.w,o.j,o.r,o.p,o.x,o.O,i.i,o.y,o.g],styles:["ion-row[_ngcontent-%COMP%]{margin-bottom:20px}.background[_ngcontent-%COMP%]{height:600px;width:1000px;margin:0 auto;border-radius:0 0 115px 115px;border-bottom:14px solid #faa71b;background-image:linear-gradient(0deg,rgba(0,85,165,.5) 75%,rgba(250,167,27,.2060679272)),url(fairs-selection-page-image.18fcc4b5f43feab7063f.jpg);background-size:auto 900px;background-repeat:none;background-attachment:fixed}ion-item[_ngcontent-%COMP%]{--background:#fff;color:#0055a5;border:2px solid #0055a5;height:50px}.form-wrapper[_ngcontent-%COMP%]{background:#fff;padding:1em 2em;box-shadow:1px 1px 30px rgba(34,34,34,.26666666666666666);border-radius:10px;position:absolute;bottom:0;height:auto;opacity:0;-webkit-animation:form-slide 1s cubic-bezier(.19,1,.22,1) 1s forwards;animation:form-slide 1s cubic-bezier(.19,1,.22,1) 1s forwards}.form-wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;font-size:2em;background:#0055a5;width:300px;padding:.2em;border-radius:5px}.form-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#222;font-size:1em;font-weight:600;background:hsla(0,0%,100%,.4117647058823529);padding:.6em}@media screen and (max-width:760px){.background[_ngcontent-%COMP%]{height:300px;background-image:linear-gradient(0deg,rgba(0,85,165,.5) 10%,rgba(250,167,27,.2060679272)),url(fairs-selection-page-image-small.232be9c58499a2473f06.png);background-repeat:none;background-size:auto 400px;background-attachment:fixed;border-radius:0 0 115px 0;border-bottom:14px solid #faa71b}.form-wrapper[_ngcontent-%COMP%]{background:#fff;padding:1em 2em;box-shadow:1px 1px 30px rgba(34,34,34,.26666666666666666);border-radius:10px;position:absolute;bottom:0;height:300px;opacity:0;-webkit-animation:form-slide 1s cubic-bezier(.19,1,.22,1) 1s forwards;animation:form-slide 1s cubic-bezier(.19,1,.22,1) 1s forwards}.form-wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;font-size:1.2em;background:#0055a5;width:200px;padding:.2em;border-radius:5px}.form-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#222;font-size:.8em;font-weight:600;background:hsla(0,0%,100%,.4117647058823529)}.form-wrapper[_ngcontent-%COMP%]   .desciption[_ngcontent-%COMP%]{border-bottom:none;line-height:auto}.form-wrapper[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{height:30px;margin:0}.form-wrapper[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{position:relative;top:-7px}}@-webkit-keyframes form-slide{0%{opacity:0;transform:translateY(300px)}to{opacity:1;transform:translateY(0)}}@keyframes form-slide{0%{opacity:0;transform:translateY(300px)}to{opacity:1;transform:translateY(0)}}ion-select[_ngcontent-%COMP%]::part(icon){color:#0055a5;font-size:2em;opacity:1;position:relative;left:0}.select-icon-inner[_ngcontent-%COMP%]{left:-5px;margin-top:-6px;border-top:14px solid;border-right:10px solid transparent;border-left:10px solid transparent}ion-select[_ngcontent-%COMP%]{width:100%;background:none;color:#0055a5;opacity:1;--placeholder-opacity:1!important;--icon-opaacity:1!important}h1[_ngcontent-%COMP%]{color:#0055a5;font-size:2em;z-index:999;margin-top:40px}h2[_ngcontent-%COMP%]{font-weight:600;font-size:1.45em;line-height:1.85em;background:#faa71b;color:#fff;padding:5px 0 5px 20px;margin-bottom:24px;border-radius:5px}ion-select-option[_ngcontent-%COMP%]{background:#fff}.desciption[_ngcontent-%COMP%]{font-size:1em;line-height:1.6em;padding-bottom:30px;color:#333}.off[_ngcontent-%COMP%], .on[_ngcontent-%COMP%]{opacity:0}.on[_ngcontent-%COMP%]{-webkit-animation:slide-up .2s ease .5s forwards;animation:slide-up .2s ease .5s forwards}.orange-button[_ngcontent-%COMP%]{height:40px;width:100%;font-size:1em;font-weight:600;--background:#faa71b;--color:#fff;--border-radius:12px;--box-shadow:none}li[_ngcontent-%COMP%]{font-size:1.7em;margin:10px 0;color:#0055a5}@-webkit-keyframes slide-up{0%{transform:translateY(100px)}to{opacity:1;transform:translateY(-10px)}}@keyframes slide-up{0%{transform:translateY(100px)}to{opacity:1;transform:translateY(-10px)}}"]}),e})()},{path:"fair-page/:id/:usertype",loadChildren:()=>n.e(10).then(n.bind(null,"Nfco")).then(e=>e.FairPagePageModule)}];let g=(()=>{class e{}return e.\u0275mod=s.Fb({type:e}),e.\u0275inj=s.Eb({factory:function(t){return new(t||e)},imports:[[a.j.forChild(p)],a.j]}),e})(),f=(()=>{class e{}return e.\u0275mod=s.Fb({type:e}),e.\u0275inj=s.Eb({factory:function(t){return new(t||e)},imports:[[i.b,r.d,r.k,o.G,g]]}),e})()},z6cu:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("HDdC");function r(e,t){return new i.a(t?n=>t.schedule(o,0,{error:e,subscriber:n}):t=>t.error(e))}function o({error:e,subscriber:t}){t.error(e)}}}]);