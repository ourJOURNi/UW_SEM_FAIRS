(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"0GEM":function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i("mrSG"),o=i("AytR"),r=i("z6cu"),s=i("fXoL"),a=i("tk/3"),c=i("tyNb"),l=i("TEn/");let d=(()=>{class e{constructor(e,t,i,n){this.http=e,this.router=t,this.loading=i,this.alert=n,this.allFairs=[],this.FAIRS_BACKEND_URL=o.a.fairsUrl}getFairs(){return console.log("Getting Fairs"),this.http.get(this.FAIRS_BACKEND_URL+"/api/fairs")}getFair(e){return console.log(e),console.log("id from fairs service"),this.http.post(this.FAIRS_BACKEND_URL+"/api/fairs/fair",{name:e})}registerStudent(e){return this.http.post(this.FAIRS_BACKEND_URL+"/api/fairs/register-student",e)}registerChaperone(e){return this.http.post(this.FAIRS_BACKEND_URL+"/api/fairs/register-chaperone",e)}registerPartner(e){return this.http.post(this.FAIRS_BACKEND_URL+"/api/fairs/register-partner",e)}registerVolunteer(e){return Object(n.a)(this,void 0,void 0,(function*(){return this.http.post(this.FAIRS_BACKEND_URL+"/api/fairs/register-volunteer",e).subscribe(t=>Object(n.a)(this,void 0,void 0,(function*(){yield console.log("registering volunteer to fair"),yield console.log(t),yield this.presentLoadingWithOptions(e.name,e.email),yield this.router.navigate([""]),yield console.log("REGISTERED VOLUNTEER TO FAIR!")})))}))}handleError(e){return Object(n.a)(this,void 0,void 0,(function*(){return"A Student already has that email address"===e.error?(console.log("A Student already has that email address"),this.emailAlreadyExistAlert()):Object(r.a)(e)}))}emailAlreadyExistAlert(){return Object(n.a)(this,void 0,void 0,(function*(){const e=yield this.alert.create({header:"Email already in use.",message:"This email already exists. Please enter another email address",buttons:["Ok"]});return yield e.present()}))}presentLoadingWithOptions(e,t){return Object(n.a)(this,void 0,void 0,(function*(){const i=yield this.loading.create({duration:3e3,message:`Registering you as a Chaperone ${e}. Sending an email to ${t}`,translucent:!0,cssClass:"loading",backdropDismiss:!0});yield i.present();const{role:n}=yield i.onDidDismiss();console.log("Loading dismissed with role:",n)}))}presentAlert(){return Object(n.a)(this,void 0,void 0,(function*(){const e=yield this.alert.create({header:"Alert",cssClass:"registered",message:"This is an alert message.",buttons:["OK"]});yield e.present()}))}getSchools(){return console.log("Getting schools"),this.http.get(this.FAIRS_BACKEND_URL+"/api/admin/fairs/get-schools")}}return e.\u0275fac=function(t){return new(t||e)(s.Qb(a.a),s.Qb(c.g),s.Qb(l.N),s.Qb(l.a))},e.\u0275prov=s.Db({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"1GRv":function(e,t,i){"use strict";i.r(t),i.d(t,"SelectionPageModule",(function(){return u}));var n=i("ofXK"),o=i("3Pt+"),r=i("TEn/"),s=i("tyNb"),a=i("fXoL"),c=i("0GEM");function l(e,t){if(1&e&&(a.Mb(0,"ion-select-option",19),a.jc(1),a.Lb()),2&e){const e=t.$implicit;a.cc("value",e.title),a.xb(1),a.kc(e.title)}}function d(e,t){if(1&e&&(a.Mb(0,"ion-select-option",19),a.jc(1),a.Lb()),2&e){const e=t.$implicit;a.cc("value",e.title),a.xb(1),a.kc(e.title)}}const p=[{path:"",component:(()=>{class e{constructor(e,t){this.router=e,this.fairs=t,this.selectedFair=!1,this.selectedUsertype=!1}ngOnDestroy(){this.fairsInfoSubscription.unsubscribe()}ngOnInit(){this.fairsInfoSubscription=this.fairs.getFairs().subscribe(e=>{this.allFairs=Object.values(e),console.log(typeof e),console.log(this.allFairs)})}setFair(e){this.fair=e.detail.value,this.selectedFair=!0,console.log("setting the fair to "+this.fair)}setUsertype(e){console.log(e),this.usertype=e.detail.value,this.selectedUsertype=!0,console.log("setting the usertype to "+this.usertype),this.allFairs.find(e=>{switch(this.id=e._id,this.date=e.date,this.fair=e.title,this.summary=e.summary,this.address=e.address,this.city=e.city,this.state=e.state,this.zip=e.zip,this.usertype){case"student":this.agenda=JSON.stringify(e.studentAgenda),this.faq=JSON.stringify(e.studentFAQ),this.partners=JSON.stringify(e.partners),console.log("Student");break;case"chaperone":this.agenda=JSON.stringify(e.chaperoneAgenda),this.faq=JSON.stringify(e.chaperoneFAQ),this.partners=JSON.stringify(e.partners),console.log("Chaperone");break;case"volunteer":this.agenda=JSON.stringify(e.volunteerAgenda),this.faq=JSON.stringify(e.volunteerFAQ),this.partners=JSON.stringify(e.partners),console.log("Volunteers");break;case"partner":this.agenda=JSON.stringify(e.partnerAgenda),this.faq=JSON.stringify(e.partnerFAQ),this.partners=JSON.stringify(e.partners),console.log("Partner")}})}fairPage(){console.log("going to the fair page"),this.router.navigate(["/selection/fair-page",this.id,this.fair,this.date,this.address,this.city,this.state,this.zip,this.usertype,this.summary,this.agenda,this.faq,this.partners])}}return e.\u0275fac=function(t){return new(t||e)(a.Hb(s.g),a.Hb(c.a))},e.\u0275cmp=a.Bb({type:e,selectors:[["app-selection"]],decls:58,vars:8,consts:[[1,"ion-hide-md-down","background-photo-large"],[1,""],["size","12"],["push","1","size-lg","3",1,"form-wrapper"],[1,"desciption"],[1,"line-input"],["placeholder","Select fair",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"className"],["placeholder","Select user type",3,"ionChange"],["value","student"],["value","volunteer"],["value","chaperone"],["value","partner"],[1,"green-button",3,"disabled","click"],[1,"ion-hide-md-up"],[1,"background-photo-small"],[1,"ion-justify-content-center"],["size-xs","11","size-sm","10","size-md","8","size-lg","4"],[3,"value"]],template:function(e,t){1&e&&(a.Ib(0,"ion-header"),a.Mb(1,"ion-content"),a.Mb(2,"ion-grid",0),a.Mb(3,"ion-row",1),a.Ib(4,"ion-col",2),a.Lb(),a.Mb(5,"ion-row"),a.Mb(6,"ion-col",3),a.Mb(7,"h3"),a.jc(8,"Register for a Fair"),a.Lb(),a.Mb(9,"p",4),a.jc(10,"Whether you are a Student, Chaperone, Volunteer, or Booth Partner, register for a United Way Southeast Michigan Fair Today!"),a.Lb(),a.Mb(11,"ion-list",5),a.Mb(12,"ion-item"),a.Mb(13,"ion-select",6),a.Ub("ionChange",(function(e){return t.setFair(e)})),a.ic(14,l,2,2,"ion-select-option",7),a.Lb(),a.Lb(),a.Lb(),a.Mb(15,"div",8),a.Mb(16,"ion-list",5),a.Mb(17,"ion-item"),a.Mb(18,"ion-select",9),a.Ub("ionChange",(function(e){return t.setUsertype(e)})),a.Mb(19,"ion-select-option",10),a.jc(20,"Student"),a.Lb(),a.Mb(21,"ion-select-option",11),a.jc(22,"Volunteer"),a.Lb(),a.Mb(23,"ion-select-option",12),a.jc(24,"Chaperone"),a.Lb(),a.Mb(25,"ion-select-option",13),a.jc(26,"Partner"),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Mb(27,"div",8),a.Mb(28,"ion-button",14),a.Ub("click",(function(){return t.fairPage()})),a.jc(29," Next "),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Mb(30,"ion-grid",15),a.Mb(31,"ion-row",16),a.Ib(32,"ion-col",2),a.Lb(),a.Mb(33,"ion-row",17),a.Mb(34,"ion-col",18),a.Mb(35,"h1"),a.jc(36,"Fairs"),a.Lb(),a.Mb(37,"p",4),a.jc(38,"Text about this page goes here. Lorem ipsum dolor, sit amet consectetur adipisicing elit. Aliquid officiis dicta at iste rerum illo nulla non. Accusamus praesentium nisi provident numquam, quaerat atque veritatis, vitae exercitationem soluta culpa amet."),a.Lb(),a.Mb(39,"ion-list",5),a.Mb(40,"ion-item"),a.Mb(41,"ion-select",6),a.Ub("ionChange",(function(e){return t.setFair(e)})),a.ic(42,d,2,2,"ion-select-option",7),a.Lb(),a.Lb(),a.Lb(),a.Mb(43,"div",8),a.Mb(44,"ion-list",5),a.Mb(45,"ion-item"),a.Mb(46,"ion-select",9),a.Ub("ionChange",(function(e){return t.setUsertype(e)})),a.Mb(47,"ion-select-option",10),a.jc(48,"Student"),a.Lb(),a.Mb(49,"ion-select-option",11),a.jc(50,"Volunteer"),a.Lb(),a.Mb(51,"ion-select-option",12),a.jc(52,"Chaperone"),a.Lb(),a.Mb(53,"ion-select-option",13),a.jc(54,"Partner"),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Mb(55,"div",8),a.Mb(56,"ion-button",14),a.Ub("click",(function(){return t.fairPage()})),a.jc(57," Next "),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb()),2&e&&(a.xb(14),a.bc("ngForOf",t.allFairs),a.xb(1),a.bc("className",t.selectedFair?"on":"off"),a.xb(12),a.bc("className",t.selectedUsertype?"on":"off"),a.xb(1),a.bc("disabled",!t.fair&&!t.usertype),a.xb(14),a.bc("ngForOf",t.allFairs),a.xb(1),a.bc("className",t.selectedFair?"on":"off"),a.xb(12),a.bc("className",t.selectedUsertype?"on":"off"),a.xb(1),a.bc("disabled",!t.fair&&!t.usertype))},directives:[r.p,r.k,r.o,r.z,r.j,r.u,r.s,r.A,r.T,n.h,r.B,r.g],styles:["ion-row[_ngcontent-%COMP%]{margin-bottom:20px}.background-photo-small[_ngcontent-%COMP%]{height:250px;background:url(fairs-selection-page-image-small.232be9c58499a2473f06.png);background-size:cover;background-position:50%;background-repeat:no-repeat}.background-photo-large[_ngcontent-%COMP%]{height:95vh;background:url(fairs-selection-page-image.18fcc4b5f43feab7063f.jpg);background-size:cover;background-position:50%;background-repeat:no-repeat}ion-item[_ngcontent-%COMP%]{--background:#fff;color:#faa71b;border:2px solid #faa71b;height:50px}.form-wrapper[_ngcontent-%COMP%]{background:#fff;padding:1em;box-shadow:1px 1px 30px rgba(34,34,34,.26666666666666666);border-radius:10px;position:relative;top:100px}.form-wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#0055a5}.form-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333}ion-select[_ngcontent-%COMP%]::part(icon){color:#faa71b;font-size:2em;opacity:1;position:relative;left:0}.select-icon-inner[_ngcontent-%COMP%]{left:-5px;margin-top:-6px;border-top:14px solid;border-right:10px solid transparent;border-left:10px solid transparent}ion-select[_ngcontent-%COMP%]{width:100%;background:none;color:#faa71b;opacity:1;--placeholder-opacity:1!important;--icon-opaacity:1!important}h1[_ngcontent-%COMP%]{color:#0055a5;font-size:3em;z-index:999;margin-top:40px}h2[_ngcontent-%COMP%]{font-weight:600;font-size:1.45em;line-height:1.85em;background:#faa71b;color:#fff;padding:5px 0 5px 20px;margin-bottom:24px;border-radius:5px}ion-select-option[_ngcontent-%COMP%]{background:#fff}.desciption[_ngcontent-%COMP%]{font-size:1em;line-height:1.6em;padding-bottom:30px;border-bottom:2px solid #f0f0f0;color:#333}.off[_ngcontent-%COMP%], .on[_ngcontent-%COMP%]{opacity:0}.on[_ngcontent-%COMP%]{-webkit-animation:slide-up .2s ease .5s forwards;animation:slide-up .2s ease .5s forwards}.green-button[_ngcontent-%COMP%]{height:50px;width:100%;font-size:1em;--background:#fff;--color:#2da847;--border-color:#2da847;--border-style:solid;--border-width:2px;--border-radius:5px;--box-shadow:none}li[_ngcontent-%COMP%]{font-size:1.7em;margin:10px 0;color:#0055a5}@-webkit-keyframes slide-up{0%{transform:translateY(100px)}to{opacity:1;transform:translateY(-10px)}}@keyframes slide-up{0%{transform:translateY(100px)}to{opacity:1;transform:translateY(-10px)}}"]}),e})()},{path:"fair-page/:id/:fair/:date/:address/:city/:state/:zip/:usertype/:summary/:agenda/:faq/:partners",loadChildren:()=>i.e(10).then(i.bind(null,"Nfco")).then(e=>e.FairPagePageModule)}];let b=(()=>{class e{}return e.\u0275mod=a.Fb({type:e}),e.\u0275inj=a.Eb({factory:function(t){return new(t||e)},imports:[[s.i.forChild(p)],s.i]}),e})(),u=(()=>{class e{}return e.\u0275mod=a.Fb({type:e}),e.\u0275inj=a.Eb({factory:function(t){return new(t||e)},imports:[[n.b,o.d,o.k,r.L,b]]}),e})()},z6cu:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("HDdC");function o(e,t){return new n.a(t?i=>t.schedule(r,0,{error:e,subscriber:i}):t=>t.error(e))}function r({error:e,subscriber:t}){t.error(e)}}}]);